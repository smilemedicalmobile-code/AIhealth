# 🚀 AI문진 병원예약 - 앱스토어 출시 체크리스트

---

## ⚠️ 긴급 수정 필요 항목

### 1. OpenAI API 키 보안 문제 ⭐⭐⭐⭐⭐
**현재 상태**: 코드에 하드코딩되어 있음
**문제점**: Apple 심사 거부 가능, 보안 위험
**해결 방법**:
```swift
// ❌ 현재 (하드코딩)
let apiKey = "sk-xxxxxxxx"

// ✅ 수정 (Firebase Remote Config)
let apiKey = RemoteConfig.remoteConfig()["openai_api_key"].stringValue
```

**수정 파일**:
- `AIhealthApp.swift` 또는 `OpenAIService.swift`

**작업 순서**:
1. Firebase Console > Remote Config
2. `openai_api_key` 파라미터 생성
3. 코드에서 RemoteConfig로 읽어오기

---

### 2. "진단" 표현 수정 ⭐⭐⭐⭐
**문제점**: Apple은 의료기기 승인 없이 "진단" 표현 사용 금지
**수정 필요 파일**:
- 모든 화면의 "진단 기록" → "증상 기록" 또는 "건강 기록"
- "진단" → "상담 기록", "메모" 등으로 변경

**검색 명령어**:
```bash
cd /Users/chaedongjoo/Developer/AIhealth
grep -r "진단" --include="*.swift" .
```

---

### 3. 개인정보 관련 알림 추가 ⭐⭐⭐
**필요 사항**: 첫 실행 시 개인정보 수집 동의 화면

**추가할 화면**:
```
┌─────────────────────────────┐
│  AI문진 병원예약에 오신 것을  │
│       환영합니다!           │
│                             │
│  본 앱은 다음 정보를 수집합니다: │
│  • 예약 정보 (이름, 전화번호)  │
│  • 증상 정보                 │
│  • 앱 사용 통계               │
│                             │
│  [개인정보처리방침 보기]        │
│                             │
│  [동의하고 시작하기]           │
│  [동의하지 않음]              │
└─────────────────────────────┘
```

---

## ✅ 필수 준비 항목

### 4. 스크린샷 준비 ⭐⭐⭐⭐⭐
**필요 개수**: 최소 3장, 권장 5-6장
**필요 사이즈**:
- iPhone 6.7" (1290 x 2796 px) - iPhone 15 Pro Max
- iPhone 6.5" (1242 x 2688 px) - iPhone 14 Pro Max

**촬영 화면**:
1. 홈 화면 (대시보드)
2. AI 문진 화면 (채팅)
3. 예약 화면 (폼 입력)
4. 예약 목록 (관리 화면)
5. 건강 기록 화면

**촬영 방법**:
```bash
# 시뮬레이터 실행 후
xcrun simctl io booted screenshot screenshot1.png
```

---

### 5. 연락처 정보 준비 ⭐⭐⭐⭐⭐
**필수 정보**:
- [ ] 지원 이메일: `support@aihealth.app` (또는 실제 이메일)
- [ ] 회사명/개인 이름
- [ ] 주소 (법인의 경우)

**임시 이메일 만들기**:
- Gmail: aihealth.support@gmail.com
- Naver: aihealth_support@naver.com

---

### 6. Bundle Identifier 확정 ⭐⭐⭐⭐
**현재**: 확인 필요
**권장 형식**: `com.[회사명].aimedicalreservation`

**설정 위치**:
- Xcode > Project Settings > General > Bundle Identifier

---

### 7. 버전 정보 ⭐⭐⭐
**Version**: 1.0.0
**Build**: 1

---

## 🎨 선택 항목

### 8. 앱 미리보기 영상 (선택)
**길이**: 15-30초
**내용**:
- 0-5초: 앱 소개
- 5-20초: 주요 기능 시연
- 20-30초: 다운로드 유도

---

### 9. 프로모션 코드 (선택)
**용도**: 인플루언서, 리뷰어에게 제공
**생성 위치**: App Store Connect > 프로모션 코드

---

## 📋 Apple 심사 준비

### 10. 심사용 노트 작성 ⭐⭐⭐
```
안녕하세요, 리뷰 담당자님

본 앱은 로그인 기능이 없으며, 설치 후 바로 사용 가능합니다.

주요 기능:
1. AI 문진: OpenAI API를 사용하여 증상 분석 (의료 진단 목적 아님)
2. 병원 예약: 사용자가 예약 정보를 저장하고 관리
3. 건강 기록: 과거 상담 내역 조회

테스트 방법:
1. 앱 실행
2. "AI 상담" 버튼 클릭 → 증상 입력 테스트
3. "예약하기" 버튼 클릭 → 예약 정보 입력 및 저장

개인정보처리방침: [URL]
문의: support@aihealth.app

감사합니다.
```

---

### 11. 심사 시 주의사항 ⭐⭐⭐⭐
**거부 가능 이유**:
- ❌ API 키 하드코딩
- ❌ "진단" 등 의료 표현 과다
- ❌ 개인정보처리방침 누락
- ❌ 주민등록번호 입력 (한국에서는 가능하지만 설명 필요)
- ❌ 충돌/크래시 발생

---

## 🔧 기술적 검토

### 12. 빌드 설정 확인 ⭐⭐⭐⭐
```bash
# Xcode에서 확인
- Deployment Target: iOS 16.0 이상
- Supported Devices: iPhone
- Signing: Automatic 또는 Manual
```

---

### 13. 메모리 및 성능 ⭐⭐⭐
```bash
# Instruments로 테스트
- Leaks: 메모리 누수 확인
- Allocations: 메모리 사용량
- Time Profiler: CPU 사용량
```

---

### 14. 크래시 테스트 ⭐⭐⭐⭐
**테스트 시나리오**:
- [ ] 네트워크 끊김 상태에서 AI 문진
- [ ] 빈 값으로 예약 등록 시도
- [ ] 백그라운드/포그라운드 전환
- [ ] 메모리 경고 상황 시뮬레이션

---

## 📊 출시 전 최종 점검

### 15. 체크리스트 ✅
- [ ] ⭐⭐⭐⭐⭐ OpenAI API 키 Firebase로 이동
- [ ] ⭐⭐⭐⭐ "진단" 표현 모두 수정
- [ ] ⭐⭐⭐ 개인정보 동의 화면 추가
- [ ] ⭐⭐⭐⭐⭐ 스크린샷 5장 준비
- [ ] ⭐⭐⭐⭐⭐ 지원 이메일 확정
- [ ] ⭐⭐⭐⭐ Bundle Identifier 설정
- [ ] ⭐⭐⭐ 버전 정보 입력
- [ ] ⭐⭐⭐⭐ 크래시 테스트 완료
- [ ] ⭐⭐⭐ 심사용 노트 작성
- [ ] 앱 아이콘 모든 사이즈 적용 ✅ (완료)
- [ ] 개인정보처리방침 작성 ✅ (완료)
- [ ] 앱스토어 메타데이터 준비 ✅ (완료)

---

## 🚀 제출 순서

1. **Xcode에서 Archive**
   ```
   Product > Archive
   ```

2. **App Store Connect에 업로드**
   ```
   Window > Organizer > Distribute App
   ```

3. **메타데이터 입력**
   - 앱 이름: AI문진 병원예약
   - 부제목, 키워드, 설명 입력
   - 스크린샷 업로드

4. **심사 제출**
   - "제출 준비 완료" 버튼 클릭

5. **심사 대기**
   - 평균 24-48시간 소요
   - 거부 시 사유 확인 후 재제출

---

## 💡 예상 심사 기간

- **First Review**: 24-72시간
- **Rejected → Resubmit**: 12-24시간
- **출시 준비**: 심사 승인 후 즉시 또는 예약 가능

---

## 📞 문제 발생 시

**Apple 개발자 지원**:
- https://developer.apple.com/contact/
- App Review 문의: App Store Connect에서 직접 메시지

**일반적인 거부 사유 대응**:
1. API 키 문제 → Firebase Remote Config 적용
2. 개인정보 문제 → 동의 화면 추가
3. 의료 표현 문제 → 텍스트 수정
4. 크래시 → 버그 수정 후 재제출

---

✅ **작성 완료!**
이제 위 체크리스트를 하나씩 완료하고 앱스토어에 제출하시면 됩니다!
